# twnyan
[![arrow2nd](https://circleci.com/gh/arrow2nd/twnyan.svg?style=shield)](https://circleci.com/gh/arrow2nd/twnyan/tree/main)
[![Go Report Card](https://goreportcard.com/badge/github.com/arrow2nd/twnyan)](https://goreportcard.com/report/github.com/arrow2nd/twnyan)

いつでも「にゃーん」したいねこのためのTwitterクライアント

> **[English](README_EN.md)**

## 特徴
- マルチバイト文字対応
- にゃーん機能搭載
- ~そこそこ~柔軟な色設定
- 対話モード対応

## スクリーンショット
<image src="https://user-images.githubusercontent.com/44780846/103337211-e4a19080-4abd-11eb-9c14-4d01a4c86060.gif" width=90%>

## 動作条件
- Windows/Linux
- 絵文字が表示可能なターミナル

### 備考
- Macでの動作は確認できていません
- WSL環境で実行する場合、xdg-openが使用できる必要があります<br>~微妙な~解決策は[ここ](https://qiita.com/arrow2nd/items/5c02a8cdf8197ae15cb7)

## インストール方法
**（おすすめ）**

```$ go get -u github.com/arrow2nd/twnyan```

### バイナリファイルを使う
Releaseから環境にあったzipをダウンロードして、バイナリファイルにPathを通してください。

## 初期設定
<image src="https://user-images.githubusercontent.com/44780846/102592746-432e4c80-4157-11eb-8581-29a1f8f850c9.png" width=90%>

初回起動時にブラウザが起動して認証ページが表示されます。

画面に従って手順を進め、表示されるPINコードをtwnyanに入力してください。

## 使い方
<image src="https://user-images.githubusercontent.com/44780846/103337424-a6f13780-4abe-11eb-8cf3-084840e1d548.gif" width=90%>

```$ twnyan [コマンド] [引数]```

コマンドを省略して、```$ twnyan```とすると対話モードで起動します。

ツイートへの操作（いいね・RTなど）はツイートに割り振られている番号を指定して行います。

### にゃーん
```$ twnyan tw```

これで「にゃーん」できます。(画像が添付されている場合はにゃーんしません)

## コマンド一覧

<details>
<summary>開く</summary>

## tweet
```エイリアス: tw```

ツイートの操作を行います。
### tweet [テキスト] [画像ファイル]
ツイートを投稿します。

| 引数         | ヒント                                                     | 例                                  |
| ------------ | ---------------------------------------------------------- | ----------------------------------- |
| テキスト     | テキストと画像ファイルが無い場合「にゃーん」と投稿されます | ```tweet```                         |
| 画像ファイル | 複数ある場合は半角スペースで区切って下さい                 | ```tweet 🍣 sushi1.png sushi2.png``` |

- テキストを省略して、画像のみの投稿も可能です。(e.g. ```tweet cat.png```)

### tweet remove [<ツイート番号>]...
```エイリアス: rm```

ツイートを削除します。

| 引数         | ヒント                                     | 例                     |
| ------------ | ------------------------------------------ | ---------------------- |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```tweet remove 2 5``` |

## timeline
```エイリアス: tl```

ホームタイムラインを表示します。
### timeline [取得件数]

| 引数     | ヒント                                                   | 例                |
| -------- | -------------------------------------------------------- | ----------------- |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```timeline 39``` |

## mention
```エイリアス: mt```

自分宛てのメンションを取得します。
### mention [取得件数]

| 引数     | ヒント                                                   | 例               |
| -------- | -------------------------------------------------------- | ---------------- |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```mention 20``` |

## list
```エイリアス: ls```

リストのタイムラインを表示します。
### list [<リスト名>] [取得件数]

| 引数     | ヒント                                                   | 例                         |
| -------- | -------------------------------------------------------- | -------------------------- |
| リスト名 | 対話モードで起動している場合、Tabキーで補完が可能です    | ```list ねこたち```        |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```list "ねこ集会 Ⅱ" 30``` |

## user
```エイリアス: ur```

ユーザータイムラインを表示します。
### user [<ユーザー名/ツイート番号>] [取得件数]
指定したユーザーのタイムラインを表示します。

| 引数                    | ヒント                                                   | 例                                |
| ----------------------- | -------------------------------------------------------- | --------------------------------- |
| ユーザー名/ツイート番号 | どちらかが指定できます<br>ユーザー名の'@'は省略可能です  | ```user github```<br>```user 1``` |
| 取得件数                | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```user twitter 15```             |

### user myuser [取得件数]
自分のタイムラインを表示します。

| 引数     | ヒント                                                   | 例                   |
| -------- | -------------------------------------------------------- | -------------------- |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```user myuser 50``` |

## search
```エイリアス: sh```

過去7日間のツイートを検索します。
### search [<キーワード>] [取得件数]

| 引数       | ヒント                                                                     | 例                     |
| ---------- | -------------------------------------------------------------------------- | ---------------------- |
| キーワード | 先頭が記号、またはスペースを含む場合はダブルクォーテーションで囲んで下さい | ```search "cat dog"``` |
| 取得件数   | 省略した場合、設定ファイル内のデフォルト値が指定されます                   | ```search sushi 5```   |

## favorite
```エイリアス: fv, like```

いいねの操作を行います。
### favorite [<ツイート番号>]
ツイートにいいね！します。

| 引数         | ヒント                                     | 例                 |
| ------------ | ------------------------------------------ | ------------------ |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```favorite 1 2``` |

### favorite remove [<ツイート番号>]
```エイリアス: rm```

ツイートのいいね！を取り消します。

| 引数         | ヒント                                     | 例                        |
| ------------ | ------------------------------------------ | ------------------------- |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```favorite remove 1 2``` |

## retweet
```エイリアス: rt```

リツイートの操作を行います。
### retweet [<ツイート番号>]...
ツイートをリツイートします。

| 引数         | ヒント                                     | 例                |
| ------------ | ------------------------------------------ | ----------------- |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```retweet 1 5``` |

### retweet quote [<ツイート番号>] [テキスト] [画像ファイル]
```エイリアス: qt```

ツイートを引用リツイートします。

| 引数         | ヒント                                                     | 例                                 |
| ------------ | ---------------------------------------------------------- | ---------------------------------- |
| ツイート番号 | 引用するツイートの番号を指定してください                   | ```retweet quote 1 これすき```     |
| テキスト     | テキストと画像ファイルが無い場合「にゃーん」と投稿されます | ```retweet quote 1```              |
| 画像ファイル | 複数ある場合は半角スペースで区切って下さい                 | ```retweet quote 1 🍣 sushi1.png``` |

### retweet remove [<ツイート番号>]...
```エイリアス: rm```

リツイートを取り消します。

| 引数         | ヒント                                     | 例                       |
| ------------ | ------------------------------------------ | ------------------------ |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```retweet remove 1 5``` |

## reply
```エイリアス: rp```

ツイートにリプライを送信します。
### reply [<ツイート番号>] [テキスト] [画像ファイル]

| 引数         | ヒント                                                     | 例                                           |
| ------------ | ---------------------------------------------------------- | -------------------------------------------- |
| ツイート番号 | リプライ先のツイートの番号を指定してください               | ```reply 1 ねこだ！！！```                   |
| テキスト     | テキストと画像ファイルが無い場合「にゃーん」と投稿されます | ```reply 1```                                |
| 画像ファイル | 複数ある場合は半角スペースで区切って下さい                 | ```reply 2 寿司みて sushi1.png sushi2.png``` |

- テキストを省略して、画像のみの投稿も可能です (e.g. ```reply dog.png```)

## follow
```エイリアス: fw```

フォローの操作を行います。
### follow [<ユーザー名/ツイート番号>]
ユーザーをフォローします。

| 引数                    | ヒント                                                  | 例                                    |
| ----------------------- | ------------------------------------------------------- | ------------------------------------- |
| ユーザー名/ツイート番号 | どちらかが指定できます<br>ユーザー名の'@'は省略可能です | ```follow github```<br>```follow 1``` |

### follow remove [<ユーザー名/ツイート番号>]
```エイリアス: rm```

ユーザーのフォローを解除します。

| 引数                    | ヒント                                                  | 例                                                     |
| ----------------------- | ------------------------------------------------------- | ------------------------------------------------------ |
| ユーザー名/ツイート番号 | どちらかが指定できます<br>ユーザー名の'@'は省略可能です | ```follow remove arrow_2nd```<br>```follow remove 1``` |

## block
```エイリアス: bk```

ブロックの操作を行います。
### block [<ユーザー名/ツイート番号>]
ユーザーをブロックします。

| 引数                    | ヒント                                                  | 例                                     |
| ----------------------- | ------------------------------------------------------- | -------------------------------------- |
| ユーザー名/ツイート番号 | どちらかが指定できます<br>ユーザー名の'@'は省略可能です | ```block arrow_2nd```<br>```block 1``` |

### block remove [<ユーザー名/ツイート番号>]
```エイリアス: rm```

ユーザーのブロックを解除します。

| 引数                    | ヒント                                                  | 例                                                   |
| ----------------------- | ------------------------------------------------------- | ---------------------------------------------------- |
| ユーザー名/ツイート番号 | どちらかが指定できます<br>ユーザー名の'@'は省略可能です | ```block remove arrow_2nd```<br>```block remove 1``` |

## mute
```エイリアス: mu```

ミュートの操作を行います。
### mute [<ユーザー名/ツイート番号>]
ユーザーをミュートします。

| 引数                    | ヒント                                                  | 例                                   |
| ----------------------- | ------------------------------------------------------- | ------------------------------------ |
| ユーザー名/ツイート番号 | どちらかが指定できます<br>ユーザー名の'@'は省略可能です | ```mute arrow_2nd```<br>```mute 1``` |

### mute remove [<ユーザー名/ツイート番号>]
```エイリアス: rm```

ユーザーのミュートを解除します。

| 引数                    | ヒント                                                  | 例                                                 |
| ----------------------- | ------------------------------------------------------- | -------------------------------------------------- |
| ユーザー名/ツイート番号 | どちらかが指定できます<br>ユーザー名の'@'は省略可能です | ```mute remove arrow_2nd```<br>```mute remove 1``` |

## open
```エイリアス: op```

指定したツイートをブラウザで開きます。
### open [<ツイート番号>]

| 引数         | ヒント                                             | 例           |
| ------------ | -------------------------------------------------- | ------------ |
| ツイート番号 | ブラウザで表示するツイートの番号を指定してください | ```open 2``` |

## export
```エイリアス: ep```

表示中のタイムライン/ツイートをファイルに出力します。
### export [<フォーマット>] [<ファイル名>]

| 引数         | ヒント                                             | 例                       |
| ------------ | -------------------------------------------------- | ------------------------ |
| フォーマット | json/yamlが指定できます<br>Tabキーで補完が可能です | ```export json tweets``` |
| ファイル名   | 拡張子を除くファイル名を指定してください           | ```export yaml test```   |

## config
設定ファイルの操作を行います。
### config reset
設定を初期化します。
### config remove
設定ファイルを削除します。

</details>

## 設定ファイル
設定ファイルはホームディレクトリ直下に```.twnyan.yaml```として保存されます。

<details>
<summary>開く</summary>

## ColorData
色の設定です。16進数カラーコードで指定します。

| 名前      | 説明                         |
| --------- | ---------------------------- |
| Accent1   | ツイート番号の背景色など     |
| Accent2   | ツイートの投稿時間など       |
| Accent3   | どこか                       |
| BoxFg     | ツイート番号の文字色など     |
| UserName  | ユーザー名                   |
| UserID    | ユーザーID                   |
| Separator | セパレータ（--------）       |
| Reply     | リプライ先のID、リプライ表示 |
| Hashtag   | ハッシュタグ                 |
| Fav       | いいね数                     |
| RT        | リツイート数、リツイート表示 |
| Verified  | 認証済み表示                 |
| Protected | 鍵アカウント表示             |
| Follow    | フォロー表示                 |
| Block     | ブロック表示                 |
| Mute      | ミュート表示                 |
 
## DefaultData
デフォルト値の設定です。

| 名前       | 説明                 |
| ---------- | -------------------- |
| Counts     | デフォルトの取得件数 |
| Prompt     | プロンプトの表示文字 |
| DateFormat | 日付のフォーマット   |
| TimeFormat | 時刻のフォーマット   |

フォーマットは[timeパッケージのフォーマット文字列](https://golang.org/pkg/time/#pkg-constants)と同じ書式です。

</details>
