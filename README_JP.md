# twnyan
[![arrow2nd](https://circleci.com/gh/arrow2nd/twnyan.svg?style=shield)](https://circleci.com/gh/arrow2nd/twnyan/tree/main)
[![Go Report Card](https://goreportcard.com/badge/github.com/arrow2nd/twnyan)](https://goreportcard.com/report/github.com/arrow2nd/twnyan)

ねこによるねこのためのTwitterクライアント🐾

## 特徴
- マルチバイト文字対応
- すぐ「にゃーん」できる
- ~無駄に~柔軟な色設定
- 対話モード対応

## スクリーンショット
![twnyan](https://user-images.githubusercontent.com/44780846/99259409-5058d280-285d-11eb-82f3-ba80065517be.gif)

## インストール
**（おすすめ）**

```$ go get github.com/arrow2nd/twnyan```

### バイナリファイルを使う
Releaseから環境にあったzipをダウンロードして、バイナリファイルにPathを通してください。

## 動作条件
- Windows/Linux
- 絵文字が表示可能

### 備考
- Macでの動作は確認できていません
- WSL環境で実行する場合、[xdg-openが使用できる](https://qiita.com/arrow2nd/items/5c02a8cdf8197ae15cb7)必要があります

## 使い方
```$ twnyan [コマンド] [引数]```

コマンドを省略して、```$ twnyan```とすると対話モードで起動します。

ツイートへの操作（いいね・RTなど）はツイートに割り振られている番号を指定して行います。
> 例：```favorite 0```

## コマンド一覧

<details>
<summary>開く</summary>

## tweet
**tweet [サブコマンド] [引数]**

ツイートの操作を行います。
> エイリアス: tw

| サブコマンド | エイリアス | 説明 | 引数 |
| -------- | -------- | -------- | -------- |
| なし |  | ツイートを投稿します | ```tweet [テキスト] [画像ファイル]``` |
| remove | rm | ツイートを削除します | ```tweet remove [<ツイート番号>]``` |

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| テキスト | テキストと画像ファイルが無い場合「にゃーん」と投稿されます | ```tweet``` |
| 画像ファイル | 複数ある場合は半角スペースで区切って下さい | ```tweet 🍣 sushi1.png sushi2.png``` |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```tweet remove 2 5``` |

- テキストを省略して、画像のみの投稿も可能です。(e.g. ```tweet cat.png```)

## timeline
**timeline [取得件数] [データ形式]**

ホームタイムラインを表示します。
> エイリアス: tl

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```timeline 39``` |
| データ形式 | 取得したデータを指定した形式で標準出力します。(json, yamlが指定可能です) | ```timeline 50 json``` |

## mention
**twnyan mention [取得件数] [データ形式]**

自分宛てのメンションを取得します。
> エイリアス: mt

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```mention 20``` |
| データ形式 | 取得したデータを指定した形式で標準出力します。(json, yamlが指定可能です) | ```mention 50 json``` |

## list
**list [<リスト名>] [取得件数] [データ形式]**

リストのタイムラインを表示します。
> エイリアス: ls

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| リスト名 | 対話モードで起動している場合、Tabキーで補完が可能です | ```list ねこたち```|
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```list "ねこ集会 Ⅱ" 30``` |
| データ形式 | 取得したデータを指定した形式で標準出力します。(json, yamlが指定可能です) | ```list 偉い人 50 json``` |

## user
**user [サブコマンド] [引数]**

ユーザータイムラインを表示します。
> エイリアス: ur

| サブコマンド | エイリアス | 説明 | 引数 |
| -------- | -------- | -------- | -------- |
| なし |  | 指定したユーザーのタイムラインを表示します | ```user [ユーザーID] [取得件数] [データ形式]``` |
| number | num, no | 指定したツイートの投稿者のタイムラインを表示します | ```user number [<ツイート番号>] [取得件数]``` |

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| ユーザーID | 省略した場合、自分が指定されます | ```user``` |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```user twitter 15``` |
| データ形式 | 取得したデータを指定した形式で標準出力します。(json, yamlが指定可能です) | ```user github 50 yaml``` |

- ユーザーIDの'@'は省略可能です
- 自分の投稿をデータ形式を指定して出力したい場合、```user [自分のID] [取得件数] [データ形式]```と入力して下さい

## search
**search [<キーワード>] [取得件数] [データ形式]**

過去7日間のツイートツイートを検索します。
> エイリアス: sh

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| キーワード | スペースを含む場合は""で囲んで下さい | ```search "cat dog"``` |
| 取得件数 | 省略した場合、設定ファイル内のデフォルト値が指定されます | ```search sushi 5``` |
| データ形式 | 取得したデータを指定した形式で標準出力します。(json, yamlが指定可能です) | ```search go言語 50 yaml``` |

## favorite
**favorite [サブコマンド] [<ツイート番号>]**

いいねの操作を行います。
> エイリアス: like, fv

| サブコマンド | エイリアス | 説明 |
| -------- | -------- | -------- |
| なし |  | ツイートにいいねします |
| remove | rm | いいねを取り消します |

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```favorite 1 2``` |

## retweet
**retweet [サブコマンド] [引数]**

リツイートの操作を行います。
> エイリアス: rt

| サブコマンド | エイリアス | 説明 | 引数 |
| -------- | -------- | -------- | -------- |
| なし |  | ツイートをリツイートします | ```retweet [<ツイート番号>]``` |
| quote | qt | 引用リツイートします | ```retweet quote [<ツイート番号>] [テキスト] [画像ファイル]``` |
| remove | rm | リツイートを取り消します | ```retweet remove [<ツイート番号>]``` |

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| ツイート番号 | 複数ある場合は半角スペースで区切って下さい | ```retweet 1 5``` |
| テキスト | テキストと画像ファイルが無い場合「にゃーん」と投稿されます | ```retweet quote 1``` |
| 画像ファイル | 複数ある場合は半角スペースで区切って下さい | ```retweet quote 1 🍣 sushi1.png sushi2.png``` |

## reply
**reply [<ツイート番号>] [テキスト] [画像ファイル]**

ツイートにリプライを送ります。
> エイリアス: rp

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| テキスト | テキストと画像ファイルが無い場合「にゃーん」と投稿されます | ```reply 1``` |
| 画像ファイル | 複数ある場合は半角スペースで区切って下さい | ```reply 寿司みて sushi1.png sushi2.png``` |

- テキストを省略して、画像のみの投稿も可能です (e.g. ```reply dog.png```)

## follow
**follow [サブコマンド] [<ツイート番号/ユーザーID>]**

フォローの操作を行います。
> エイリアス: fw

| サブコマンド | エイリアス | 説明 
| -------- | -------- | -------- |
| なし | | ユーザーをフォローします |
| remove | rm | フォローを取り消します |

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| ツイート番号 | 指定したツイートの投稿者をフォローします | ```follow 1``` |
| ユーザーID | 入力したユーザーIDのユーザーをフォローします | ```follow arrow_2nd``` |

## block
**block [サブコマンド] [<ツイート番号/ユーザーID>]**

ブロックの操作を行います。
> エイリアス: bk

| サブコマンド | エイリアス | 説明 |
| -------- | -------- | -------- |
| なし | | ユーザーをブロックします |
| remove | rm | ブロックを取り消します |

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| ツイート番号 | 指定したツイートの投稿者をブロックします | ```block 1``` |
| ユーザーID | 入力したユーザーIDのユーザーをブロックします | ```block arrow_2nd``` |

## mute
**mute [サブコマンド] [<ツイート番号/ユーザーID>]**

ミュートの操作を行います。
> エイリアス: mt

| サブコマンド | エイリアス | 説明 |
| -------- | -------- | -------- |
| なし |  | ユーザーをミュートします |
| remove | rm | ミュートを取り消します |

| 引数 | ヒント | 例 |
| -------- | -------- | -------- |
| ツイート番号 | 指定したツイートの投稿者をミュートします | ```mute 1``` |
| ユーザーID | 入力したユーザーIDのユーザーをミュートします | ```mute arrow_2nd``` |

## open
**open [<ツイート番号>]**

指定したツイートをブラウザで開きます。
> エイリアス: op

## config
**config [<サブコマンド>]**

設定ファイルの操作を行います。

| サブコマンド | 説明 | 例 |
| -------- | -------- | -------- |
| reset    | 設定を初期化します | ```config reset``` |
| remove   | 設定ファイルを削除します | ```config remove``` |
 
</details>

## 設定ファイル
設定ファイルはホームディレクトリ直下に```.twnyan.yaml```として保存されます。

<details>
<summary>開く</summary>

## ColorData
色の設定です。16進数カラーコードで指定します。

| 名前 | 説明 |
| -------- | -------- |
| Accent1 | ツイート番号の背景色など |
| Accent2 | ツイートの投稿時間など |
| Accent3 | どこか |
| BoxFg | ツイート番号の文字色など |
| UserName | ユーザー名 |
| UserID | ユーザーID |
| Separator | セパレーター（--------） |
| Reply | リプライ先のID、リプライ表示 |
| Hashtag | ハッシュタグ |
| Fav | いいね数 |
| RT | リツイート数、リツイート表示 |
| Verified | 認証済み表示 |
| Protected | 鍵アカウント表示 |
| Follow | フォロー表示 |
| Block | ブロック表示 |
| Mute | ミュート表示 |
 
## DefaultData
デフォルト値の設定です。

| 名前 | 説明 |
| -------- | -------- |
| Counts | デフォルトの取得件数 |
| Prompt | プロンプトの表示文字 |
| DateFormat | 日付のフォーマット |
| TimeFormat | 時刻のフォーマット |

フォーマットは[timeパッケージのフォーマット文字列](https://golang.org/pkg/time/#pkg-constants)と同じ書式です。

</details>
